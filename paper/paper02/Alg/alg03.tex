\ifdefined\varInputAlgos%
\renewcommand{\arraystretch}{1.5}%
\begin{algorithm*}[!h]%
	\DontPrintSemicolon
	\caption{$AdjustMCirc$: Adjustment value for $\MCirc$ for transaction $t$.}\label{algo:code_outs_spent_within}%
%	\KwData{$ \Out^{\cbs}$                                                         \tcc*{Set of maps of coinbase outputs per blockheight, that represent transaction fees}}%
%	\KwData{$ \TxD$                                                                \tcc*{Set of all transaction of same day to with $t$ belongs as well}}%
%	\KwData{$ \TxChecked$                                                          \tcc*{Helper to recall all spending transactions linked to same spent tx with already adjusted $\MCirc$}}%
	\KwData{$\TxIndexAdjustment$                                                    \tcc*{Set holding indexes of spending-transactions that have already been entered adjustment values.}}%
	$\MCircAdj \gets {0}$                                                          \tcc*{The adjustment value to be applied to $\MCirc$ after shifting $\wndw$}%
	\ForEach{$o \in \Out_{t}$}{%
		\lIf{$\isNotSpent(o)$}{continue}%
		$t_{\spendingtt} \gets {\spendingTx(o)}$                                   \tcc*{Get the transaction that spent $o$}%
		\lIf(                                                                      \tcc*[f]{If $t_\spendingtt$ entered an correction-value.}%
		){$\indextt(t_{\spendingtt})\,\in\,\TxChecked$%
		}{continue}%
		$\TxIndexAdjustment \gets {\TxIndexAdjustment\,\cup\,\{\indextt(t_{\spendingtt})\}}$       \tcc*[f]{Mark $t_\spendingtt$ as already adjusted by some output of $t$}\\%
%		\ForEach(                                                                  \tcc*[f]{Check if $t_\spendingtt$ was already adjusted previously by some other transaction of $\TxD$}%
%		){$i \in \Inp_{t_{\spendingtt}}$%
%		}{%
%			$t_{\spenttt} \gets {\spentTx(i)}$                                     \tcc*{Get the transaction that being spent by $i$}%
%			\If(                                                                   %\tcc*[f]{If $t_\spendingtt$ was already adjusted by some output of $t$}%
%			){$t_{\spenttt}\,\in\,\TxD\ \andbf\ \indextt(t_{\spenttt})\,<\,\indextt(t)$%
%			}{continue}%
%		}
%		$\MCircOld \gets{ GetMCirc\bigl(t,\,\typett,\,\wndw,\,\Out^{\cbs},\,\Out^{\selfchurn}\bigr)}$\\%
%		$\MCircNew \gets{ GetMCirc\bigl(t,\,\typett,\,\wndw+1,\,\Out^{\cbs},\,\Out^{\selfchurn}\bigr)}$\\%
		$\MCircOld \gets{ GetMCirc\bigl(t,\,\typett,\,\wndw\bigr)}$\\%
		$\MCircNew \gets{ GetMCirc\bigl(t,\,\typett,\,\wndw+1\bigr)}$\\%
		$\MCircAdj \gets {\MCircAdj\,+\,\bigl(\MCircNew\,-\,\MCircOld\bigr)}$      \tcc*{Update $\MCircAdj$}%
	}%
%
	return $\MCircAdj,~\TxIndexAdjustment$                                                             \tcc*{Result: The corrective value to be applied to  $\MCirc$ for a certain day and time window.}%
\end{algorithm*}%
\else%
\fi%
%
